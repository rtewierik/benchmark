sudo bin/benchmark \
  --drivers workloads/redis-default.yaml \
  --tpc-h-file workloads/tpc-h-default.yaml \
  workloads/simple-workload.yaml
05:19:19.430 [main] INFO Benchmark - Using default worker file workers.yaml
05:19:19.443 [main] INFO Benchmark - Reading workers list from workers.yaml
05:19:19.528 [main] INFO Benchmark - Starting benchmark with config: {
  "drivers" : [ "workloads/redis-default.yaml" ],
  "workers" : [ "http://172.31.42.82:8080", "http://172.31.33.92:8080", "http://172.31.43.32:8080" ],
  "workersFile" : "/opt/benchmark/workers.yaml",
  "tpcHFile" : "/opt/benchmark/workloads/tpc-h-default.yaml",
  "workloads" : [ "workloads/simple-workload.yaml" ],
  "output" : null
}
05:19:19.556 [main] INFO Benchmark - Workloads: {
  "simple-workload" : {
    "name" : "Simple Workload 1 producer on 2 topics",
    "topics" : 2,
    "partitionsPerTopic" : 10,
    "keyDistributor" : "NO_KEY",
    "messageSize" : 1024,
    "useRandomizedPayloads" : false,
    "randomBytesRatio" : 0.0,
    "randomizedPayloadPoolSize" : 0,
    "payloadFile" : "payload/payload-1Kb.data",
    "subscriptionsPerTopic" : 1,
    "producersPerTopic" : 1,
    "consumerPerSubscription" : 1,
    "producerRate" : 100,
    "consumerBacklogSizeGB" : 0,
    "backlogDrainRatio" : 1.0,
    "testDurationMinutes" : 10,
    "warmupDurationMinutes" : 1
  }
}
05:19:19.602 [main] INFO Benchmark - TPC-H arguments: {
  "queryId" : "test-query-2",
  "query" : "ForecastingRevenueChange",
  "sourceDataS3FolderUri" : "s3://tpc-h-chunks/reference-data/chunked",
  "numberOfChunks" : 10,
  "numberOfReducers" : 3,
  "defaultNumberOfMapResults" : 4
}
05:19:21.061 [main] INFO DistributedWorkersEnsemble - Workers list - producers: [http://172.31.42.82:8080]
05:19:21.064 [main] INFO DistributedWorkersEnsemble - Workers list - consumers: http://172.31.43.32:8080,http://172.31.33.92:8080
05:19:21.074 [main] INFO Benchmark - --------------- WORKLOAD : Simple Workload 1 producer on 2 topics --- DRIVER : Redis---------------
05:19:21.786 [main] INFO LocalWorker - Attempting to shut down producers...
05:19:21.787 [main] INFO LocalWorker - Attempting to shut down consumers...
05:19:21.787 [main] INFO LocalWorker - Attempting to shut down benchmark driver...
05:19:21.816 [main] INFO LocalWorker - Driver: {
  "name" : "Redis",
  "driverClass" : "io.openmessaging.benchmark.driver.redis.RedisBenchmarkDriver"
}
05:19:21.888 [main] INFO WorkloadGenerator - Created 5 topics in 53.432855 ms
05:19:21.900 [main] INFO DistributedWorkersEnsemble - [DistributedWorkersEnsemble] Topic subscription detected: TopicSubscription{topic='redis-openmessaging-benchmark-0000000-o8-ketM', subscription='sub-000-yRFuDQY', info=TpcHInfo{consumer=Map, numberOfMapResults=null, numberOfReduceResults=null}}
05:19:21.901 [main] INFO DistributedWorkersEnsemble - [DistributedWorkersEnsemble] Topic subscription detected: TopicSubscription{topic='redis-openmessaging-benchmark-0000001-veyl9B4', subscription='sub-001-0HrD2j4', info=TpcHInfo{consumer=GenerateResult, numberOfMapResults=null, numberOfReduceResults=10}}
05:19:21.902 [main] INFO DistributedWorkersEnsemble - [DistributedWorkersEnsemble] Topic subscription detected: TopicSubscription{topic='redis-openmessaging-benchmark-0000002-lZggZKc', subscription='sub-002-ChapiPQ', info=TpcHInfo{consumer=Reduce, numberOfMapResults=4, numberOfReduceResults=null}}
05:19:21.903 [main] INFO DistributedWorkersEnsemble - [DistributedWorkersEnsemble] Topic subscription detected: TopicSubscription{topic='redis-openmessaging-benchmark-0000003-bbKlibY', subscription='sub-003-XCW3o6o', info=TpcHInfo{consumer=Reduce, numberOfMapResults=4, numberOfReduceResults=null}}
05:19:21.903 [main] INFO DistributedWorkersEnsemble - [DistributedWorkersEnsemble] Topic subscription detected: TopicSubscription{topic='redis-openmessaging-benchmark-0000004-WLJ2ckY', subscription='sub-004-lH_uGPo', info=TpcHInfo{consumer=Reduce, numberOfMapResults=2, numberOfReduceResults=null}}
05:19:21.910 [main] INFO DistributedWorkersEnsemble - Topics per consumer map: {
  "io.openmessaging.benchmark.worker.HttpWorkerClient@3ae0b770" : {
    "topicsSubscriptions" : [ {
      "topic" : "redis-openmessaging-benchmark-0000000-o8-ketM",
      "subscription" : "sub-000-d8hXwWk",
      "info" : {
        "queryId" : "test-query-2",
        "query" : "ForecastingRevenueChange",
        "consumer" : "Map",
        "numberOfMapResults" : null,
        "numberOfReduceResults" : null
      }
    }, {
      "topic" : "redis-openmessaging-benchmark-0000002-lZggZKc",
      "subscription" : "sub-002-ChapiPQ",
      "info" : {
        "queryId" : "test-query-2",
        "query" : "ForecastingRevenueChange",
        "consumer" : "Reduce",
        "numberOfMapResults" : 4,
        "numberOfReduceResults" : null
      }
    } ],
    "isTpcH" : false
  },
  "io.openmessaging.benchmark.worker.HttpWorkerClient@55e3d6c3" : {
    "topicsSubscriptions" : [ {
      "topic" : "redis-openmessaging-benchmark-0000000-o8-ketM",
      "subscription" : "sub-000-88ydprw",
      "info" : {
        "queryId" : "test-query-2",
        "query" : "ForecastingRevenueChange",
        "consumer" : "Map",
        "numberOfMapResults" : null,
        "numberOfReduceResults" : null
      }
    }, {
      "topic" : "redis-openmessaging-benchmark-0000003-bbKlibY",
      "subscription" : "sub-003-XCW3o6o",
      "info" : {
        "queryId" : "test-query-2",
        "query" : "ForecastingRevenueChange",
        "consumer" : "Reduce",
        "numberOfMapResults" : 4,
        "numberOfReduceResults" : null
      }
    } ],
    "isTpcH" : false
  },
  "io.openmessaging.benchmark.worker.HttpWorkerClient@30e6a763" : {
    "topicsSubscriptions" : [ {
      "topic" : "redis-openmessaging-benchmark-0000000-o8-ketM",
      "subscription" : "sub-000-IE5zWT0",
      "info" : {
        "queryId" : "test-query-2",
        "query" : "ForecastingRevenueChange",
        "consumer" : "Map",
        "numberOfMapResults" : null,
        "numberOfReduceResults" : null
      }
    }, {
      "topic" : "redis-openmessaging-benchmark-0000004-WLJ2ckY",
      "subscription" : "sub-004-lH_uGPo",
      "info" : {
        "queryId" : "test-query-2",
        "query" : "ForecastingRevenueChange",
        "consumer" : "Reduce",
        "numberOfMapResults" : 2,
        "numberOfReduceResults" : null
      }
    } ],
    "isTpcH" : false
  }
}
05:19:21.999 [main] INFO WorkloadGenerator - Created 5 external consumers in 98.624396 ms
05:19:22.012 [main] INFO RedisBenchmarkDriver - Attempting to connect to redis-test-2-0001-001.rs3fvf.0001.use1.cache.amazonaws.com:6379 with user null
05:19:22.184 [main] INFO LocalWorker - Created 1 consumers in 184.7366 ms
05:19:22.185 [main] INFO WorkloadGenerator - Created 1 internal consumers in 350.527956 ms
05:19:22.226 [main] INFO WorkloadGenerator - Created 5 producers in 40.126723 ms
05:19:22.227 [main] INFO WorkloadGenerator - Waiting for consumers to be ready
05:19:22.273 [main] INFO WorkloadGenerator - Waiting for topics to be ready -- Sent: 5, Received: 6
05:19:22.274 [main] INFO WorkloadGenerator - All consumers are ready
05:19:22.332 [main] INFO WorkloadGenerator - ----- Starting benchmark traffic ------
05:19:33.434 [main] INFO WorkloadGenerator - Pub rate     1.0 msg/s /  0.0 MB/s | Pub err     0.0 err/s | Cons rate     1.0 msg/s /  0.0 MB/s | Backlog:  0.0 K | Pub Latency (ms) avg:  1.6 - 50%:  1.2 - 99%:  3.3 - 99.9%:  3.3 - Max:  3.3 | Pub Delay Latency (us) avg: 847577.7 - 50%: 104.0 - 99%: 9322623.0 - 99.9%: 9322623.0 - Max: 9322623.0
05:19:44.604 [main] INFO WorkloadGenerator - Pub rate     0.4 msg/s /  0.0 MB/s | Pub err     0.0 err/s | Cons rate     0.9 msg/s /  0.0 MB/s | Backlog:  0.0 K | Pub Latency (ms) avg:  1.6 - 50%:  1.4 - 99%:  2.6 - 99.9%:  2.6 - Max:  2.6 | Pub Delay Latency (us) avg: 15856371.2 - 50%: 18002559.0 - 99%: 18913023.0 - 99.9%: 18913023.0 - Max: 18913023.0
05:19:55.748 [main] INFO WorkloadGenerator - Pub rate     0.3 msg/s /  0.0 MB/s | Pub err     0.0 err/s | Cons rate     0.5 msg/s /  0.0 MB/s | Backlog:  0.0 K | Pub Latency (ms) avg:  1.3 - 50%:  1.3 - 99%:  1.4 - 99.9%:  1.4 - Max:  1.4 | Pub Delay Latency (us) avg: 27021418.7 - 50%: 27225983.0 - 99%: 27429119.0 - 99.9%: 27429119.0 - Max: 27429119.0
05:20:06.929 [main] INFO WorkloadGenerator - Pub rate     0.5 msg/s /  0.0 MB/s | Pub err     0.0 err/s | Cons rate     0.9 msg/s /  0.0 MB/s | Backlog:  0.0 K | Pub Latency (ms) avg:  3.4 - 50%:  1.3 - 99%:  7.7 - 99.9%:  7.7 - Max:  7.7 | Pub Delay Latency (us) avg: 38816597.3 - 50%: 36117247.0 - 99%: 43350015.0 - 99.9%: 43350015.0 - Max: 43350015.0
05:20:18.051 [main] INFO WorkloadGenerator - Pub rate     0.5 msg/s /  0.0 MB/s | Pub err     0.0 err/s | Cons rate     1.1 msg/s /  0.0 MB/s | Backlog:  0.0 K | Pub Latency (ms) avg:  5.7 - 50%:  3.8 - 99%: 10.6 - 99.9%: 10.6 - Max: 10.6 | Pub Delay Latency (us) avg: 47630933.3 - 50%: 46199551.0 - 99%: 54132223.0 - 99.9%: 54132223.0 - Max: 54132223.0
05:20:29.010 [main] INFO WorkloadGenerator - Pub rate     0.5 msg/s /  0.0 MB/s | Pub err     0.0 err/s | Cons rate     0.9 msg/s /  0.0 MB/s | Backlog:  0.0 K | Pub Latency (ms) avg:  3.2 - 50%:  1.5 - 99%:  6.9 - 99.9%:  6.9 - Max:  6.9 | Pub Delay Latency (us) avg: 58997120.0 - 50%: 60000255.0 - 99%: 60000255.0 - 99.9%: 60000255.0 - Max: 60000255.0
05:20:34.548 [pool-2-thread-1] INFO LocalWorker - [LocalWorker] TPC-H query result: {
  "rows" : [ {
    "columns" : {
      "revenue" : 123141078.2283
    }
  } ]
}
05:20:39.957 [main] INFO WorkloadGenerator - Pub rate     0.4 msg/s /  0.0 MB/s | Pub err     0.0 err/s | Cons rate     0.5 msg/s /  0.0 MB/s | Backlog:  0.0 K | Pub Latency (ms) avg:  6.2 - 50%:  1.3 - 99%: 20.7 - 99.9%: 20.7 - Max: 20.7 | Pub Delay Latency (us) avg: 60000128.0 - 50%: 60000255.0 - 99%: 60000255.0 - 99.9%: 60000255.0 - Max: 60000255.0
05:20:40.923 [main] INFO WorkloadGenerator - ----- Aggregated Pub Latency (ms) avg:  3.1 - 50%:  1.4 - 95%: 10.3 - 99%: 20.7 - 99.9%: 20.7 - 99.99%: 20.7 - Max: 20.7 | Pub Delay (us)  avg: 31276533.7 - 50%: 35855615.0 - 95%: 60000255.0 - 99%: 60000255.0 - 99.9%: 60000255.0 - 99.99%: 60000255.0 - Max: 60000255.0
05:20:41.307 [main] INFO WorkloadGenerator - ----- Completed run. Stopping worker and yielding results ------
05:20:41.991 [main] INFO LocalWorker - Attempting to shut down producers...
05:20:41.991 [main] INFO LocalWorker - Attempting to shut down consumers...
05:20:41.992 [main] INFO RedisBenchmarkDriver - [RedisBenchmarkConsumer] Attempting to shut down consumer task...
05:20:41.992 [main] INFO RedisBenchmarkDriver - [RedisBenchmarkConsumer] Attempting to shut down executor...
05:20:41.992 [main] INFO RedisBenchmarkDriver - [RedisBenchmarkConsumer] Attempting to shut down pool...
05:20:41.993 [main] INFO LocalWorker - Attempting to shut down benchmark driver...
05:20:41.993 [main] INFO Benchmark - Preparing to write test results...
05:20:41.994 [main] INFO Benchmark - Writing test result into simple-workload-Redis-2024-03-14-05-20-41.json
05:20:42.216 [main] INFO Benchmark - Finished test and closed generator.
05:20:42.529 [main] INFO LocalWorker - Attempting to shut down producers...
05:20:42.529 [main] INFO LocalWorker - Attempting to shut down consumers...
05:20:42.530 [main] INFO LocalWorker - Attempting to shut down benchmark driver...
05:20:42.530 [main] INFO Benchmark - Doing final clean-up...
05:20:42.537 [main] INFO Benchmark - Final clean-up finished.